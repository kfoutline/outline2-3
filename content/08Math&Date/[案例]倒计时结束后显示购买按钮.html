<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>倒计时</title>
	<script>
	/*
		[案例]倒计时
			1）给出一个时间
			2）设置一个定时器，每次获取当前时间跟第一个时间进行对比
	 */
		window.onload = function(){
			var oTimeLeft = document.getElementById('timeLeft');
			var oImg = document.getElementById('btnBuy');
			var end = '2017/12/28 17:53:00';//结束时间
			var timer = setInterval(function(){
				var now = new Date();

				var times = (Date.parse(end) - Date.parse(now))/1000;//得到总秒数
				if(times < 0){
					clearInterval(timer);
					oImg.src = 'img/btn_buy.jpg';
					timeLeft.style.display = 'none';
					return;
				}
				var mins = parseInt(times/60);//得到总分数
				var hours = parseInt(times/60/60);//总的小时数
				var days = parseInt(times/60/60/24);//总的天数

				var secLeft = times % 60;//剩余多少秒
				var minLeft = mins % 60;//剩余多少分
				var hourLeft = hours % 24;//剩余多少小时
				// var minLeft = (timeLeft-secLeft)/60;//剩余多少分钟

				// var minLeft = (timeLeft/60)%60;
				// console.log(hourLeft)

				// 50 ==> 50秒
				// 80 ==> 1分20秒
				
				oTimeLeft.innerHTML ='距离' + end + '还剩：'+ days + '天' + hourLeft + '时' + minLeft + '分' + secLeft + '秒';
			},1000);
		}
		
	</script>		
</head>
<body>
	<h1>倒计时</h1>
	<div id="timeLeft"></div>
	<img src="img/btn_buy0.jpg" id="btnBuy">
</body>
</html>